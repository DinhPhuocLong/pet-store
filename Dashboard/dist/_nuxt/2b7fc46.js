(window.webpackJsonp=window.webpackJsonp||[]).push([[11,4],{418:function(t,e,n){var content=n(420);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(50).default)("328121f9",content,!0,{sourceMap:!1})},419:function(t,e,n){"use strict";n(418)},420:function(t,e,n){var r=n(49)((function(i){return i[1]}));r.push([t.i,".alert[data-v-407226a2]{\n  -webkit-animation-name:fadeInDown-data-v-407226a2;\n          animation-name:fadeInDown-data-v-407226a2;\n  -webkit-animation-duration:.3s;\n          animation-duration:.3s;\n  -webkit-animation-timing-function:ease-in-out;\n          animation-timing-function:ease-in-out;\n  -webkit-animation-fill-mode:forwards;\n          animation-fill-mode:forwards\n}\n@-webkit-keyframes fadeInDown-data-v-407226a2{\n0%{\n    opacity:0\n}\nto{\n    opacity:1\n}\n}\n@keyframes fadeInDown-data-v-407226a2{\n0%{\n    opacity:0;\n    transform:translate3d(-50%,-100%,0)\n}\nto{\n    opacity:1;\n    transform:translate3d(-50%,0,0)\n}\n}",""]),r.locals={},t.exports=r},421:function(t,e,n){"use strict";n.r(e);var r={props:["message","alertType","visible"],data:function(){return{successSvg:'<svg\n                width="1.8em"\n                height="1.8em"\n                viewBox="0 0 16 16"\n                class="bi bi-check"\n                fill="currentColor"\n                xmlns="http://www.w3.org/2000/svg"\n            >\n                <path\n                    fill-rule="evenodd"\n                    d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"\n                />\n            </svg>',errorSvg:'<svg width="1.8em" height="1.8em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>\n                            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>\n                        </svg>',alertIcon:""}},computed:{type:function(){var t;switch(this.alertType){case"danger":t="bg-red-500 border-red-700 text-red-500 ",this.alertIcon=this.errorSvg;break;case"success":t="bg-green-500 border-green-700 text-green-500 ",this.alertIcon=this.successSvg}return t}}},o=(n(419),n(18)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"alert"}},[t.visible?n("div",{staticClass:"w-96 flex py-2 px-3 border-l-4 shadow-md mb-2 fixed top-8 left-2/4 transform -translate-x-2/4",class:t.type,staticStyle:{"z-index":"9999999"}},[n("div",{staticClass:"rounded-full bg-white mr-3",domProps:{innerHTML:t._s(t.alertIcon)}}),t._v(" "),n("div",{staticClass:"text-white max-w-xs "},[t._v("\n            "+t._s(t.message)+"\n        ")])]):t._e()])}),[],!1,null,"407226a2",null);e.default=component.exports},423:function(t,e,n){"use strict";n(26),n(20),n(19),n(51),n(52);var r=n(13);n(25),n(30);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={recursiveCategory:function(t,e){var n=[];return function t(r,o){r.forEach((function(r){n.push(c(c({},r),{},{name:o+r.name})),t(r.children_categories||[],o+e)}))}(t,""),n}}},434:function(t,e,n){"use strict";n.r(e);n(26),n(20),n(19),n(51),n(25),n(52);var r=n(13),o=n(4),c=(n(63),n(33),n(423)),l=n(421),d=n(59),v=n(48);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={layout:"default",components:{Alert:l.default,ValidationProvider:d.b,ValidationObserver:d.a},data:function(){return{isShowNotificationMessage:!1,alert:{isVisible:!1,message:"",type:""},customErrorMessages:{name:{required:"Tên danh mục không được để trống!"}}}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,r=t.$services,o=t.redirect,e.prev=1,e.next=4,r.Category.show(n.slug);case 4:return c=e.sent,l=c.data,e.abrupt("return",{currentCategory:l});case 9:e.prev=9,e.t0=e.catch(1),o("/category");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},fetch:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("category/getCategory");case 3:case"end":return e.stop()}}),e)})))()},computed:m(m({},Object(v.b)({category:function(t){return t.category.category}})),{},{selectOptions:function(){var t=this.category;return c.a.recursiveCategory(t,"&nbsp;&nbsp;")}}),methods:{categoryUpdate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.currentCategory.id,e.next=4,t.$services.Category.update(n,t.currentCategory);case 4:t.isShowNotificationMessage=!0,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),t.isShowNotificationMessage=!1,r=e.t0.response.data,t.alertTrigger("danger",r,3e3);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},alertTrigger:function(t,e,n){var r=this;this.alert.isVisible=!0,this.alert.type=t,this.alert.message=e,setTimeout((function(t){r.alert.isVisible=!1}),n)},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e&&t.categoryUpdate()}))}}},y=n(18),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-4"},[n("Alert",{attrs:{visible:t.alert.isVisible,message:t.alert.message,alertType:t.alert.type}}),t._v(" "),n("h1",{staticClass:"my-2 text-[24px]"},[t._v("Chỉnh sửa danh mục")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNotificationMessage,expression:"isShowNotificationMessage"}],staticClass:"w-full p-4 border-l-4 border-green-500 bg-white shadow-md text-[12px]"},[n("h2",{staticClass:"my-2"},[t._v("Danh mục đã được cập nhật")]),t._v(" "),n("button",{staticClass:"text-blue-700 italic hover:text-blue-800"},[n("svg",{staticClass:"inline",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M17.026 22.957c10.957-11.421-2.326-20.865-10.384-13.309l2.464 2.352h-9.106v-8.947l2.232 2.229c14.794-13.203 31.51 7.051 14.794 17.675z",fill:"blue"}})]),t._v(" "),n("nuxt-link",{staticClass:"font-bold",attrs:{to:{name:"category"}}},[t._v("\n                Đi đến danh mục\n            ")])],1)]),t._v(" "),n("div",{staticClass:"w-full mt-8"},[n("ValidationObserver",{ref:"form"},[n("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.onSubmit()}}},[n("div",{staticClass:"flex flex-wrap my-6"},[n("div",{staticClass:"lg:w-[12%]"},[n("span",{staticClass:"font-bold text-[13px] mb-2"},[t._v("Tên:\n                        ")])]),t._v(" "),n("div",{staticClass:"w-full lg:w-[25%]"},[n("ValidationProvider",{attrs:{rules:"required","custom-messages":t.customErrorMessages.name},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCategory.name,expression:"currentCategory.name"}],staticClass:"text-[13px] \n                                    border rounded-md px-2 py-1 w-full focus:outline-none",attrs:{type:"text",placeholder:"Tên danh mục..."},domProps:{value:t.currentCategory.name},on:{input:function(e){e.target.composing||t.$set(t.currentCategory,"name",e.target.value)}}}),t._v(" "),n("p",{staticClass:"mt-1 text-sm italic text-red-500"},[t._v("\n                                "+t._s(r[0])+"\n                            ")])]}}])}),t._v(" "),n("p",{staticClass:"text-[12px] text-gray-400 font-semibold mt-2"},[t._v("\n                            Tên riêng sẽ hiện trên trang mạng của bạn\n                        ")])],1)]),t._v(" "),n("div",{staticClass:"flex flex-wrap my-6"},[n("div",{staticClass:"lg:w-[12%]"},[n("span",{staticClass:"font-bold text-[13px] mb-2"},[t._v("Đường dẫn:\n                        ")])]),t._v(" "),n("div",{staticClass:"w-full lg:w-[25%]"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCategory.slug,expression:"currentCategory.slug"}],staticClass:"text-[13px] border rounded-md \n                px-2 py-1 w-full focus:outline-none",attrs:{type:"text",placeholder:"Đường dẫn..."},domProps:{value:t.currentCategory.slug},on:{input:function(e){e.target.composing||t.$set(t.currentCategory,"slug",e.target.value)}}}),t._v(" "),n("p",{staticClass:"text-[12px] text-gray-400 font-semibold mt-2"},[t._v("\n                            Chuỗi cho đường dẫn tĩnh là phiên bản của tên\n                            hợp chuẩn với Đường dẫn (URL). Chuỗi này bao gồm\n                            chữ cái thường, số và chữ gạch ngang (-)\n                        ")])])]),t._v(" "),n("div",{staticClass:"flex flex-wrap my-6"},[n("div",{staticClass:"lg:w-[12%]"},[n("span",{staticClass:"font-bold text-[13px] mb-2"},[t._v("Từ khoá:\n                        ")])]),t._v(" "),n("div",{staticClass:"w-full lg:w-[25%]"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCategory.keywords,expression:"currentCategory.keywords"}],staticClass:"text-[13px] border rounded-md \n                px-2 py-1 w-full focus:outline-none",attrs:{type:"text",placeholder:"Từ khoá..."},domProps:{value:t.currentCategory.keywords},on:{input:function(e){e.target.composing||t.$set(t.currentCategory,"keywords",e.target.value)}}}),t._v(" "),n("p",{staticClass:"text-[12px] text-gray-400 font-semibold mt-2"},[t._v("\n                            Nhiều từ khoá được phân cách bởi dấu "),n("b",[t._v('","')])])])]),t._v(" "),n("div",{staticClass:"flex flex-wrap my-6"},[n("div",{staticClass:"lg:w-[12%]"},[n("span",{staticClass:"font-bold text-[13px] mb-2"},[t._v("Chuyên mục cha:\n                        ")])]),t._v(" "),n("div",{staticClass:"w-full lg:w-[25%]"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCategory.parent_id,expression:"currentCategory.parent_id"}],staticClass:"border rounded-md p-1 text-[13px] focus:outline-none",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.currentCategory,"parent_id",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"null"}},[t._v("Trống")]),t._v(" "),t._l(t.selectOptions,(function(option){return n("option",{key:option.id,domProps:{value:option.id,innerHTML:t._s(option.name)}})}))],2),t._v(" "),n("p",{staticClass:"text-[12px] text-gray-400 font-semibold mt-2"},[t._v("\n                            Chuyên mục khác với thẻ, bạn có thể sử dụng\n                            nhiều cấp chuyên mục. Ví dụ: Trong chuyên mục\n                            nhạc, bạn có chuyên mục con là nhạc Pop, nhạc\n                            Jazz. Việc này hoàn toàn là tùy theo ý bạn\n                        ")])])]),t._v(" "),n("button",{staticClass:"text-center lg:text-none w-full lg:w-20 p-2 text-[12px] rounded-md text-white bg-blue-600 hover:bg-blue-800 transition-all duration-500",attrs:{type:"submit"}},[t._v("\n                    Cập nhật\n                ")])])])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);