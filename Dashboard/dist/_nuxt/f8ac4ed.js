(window.webpackJsonp=window.webpackJsonp||[]).push([[13,5],{418:function(t,e,r){"use strict";r(26),r(19),r(20),r(49),r(50);var n=r(14);r(25),r(30);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={recursiveCategory:function(t,e){var r=[];return function t(n,o){n.forEach((function(n){r.push(l(l({},n),{},{name:o+n.name})),t(n.children_categories||[],o+e)}))}(t,""),r}}},419:function(t,e,r){var content=r(425);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(52).default)("0646561b",content,!0,{sourceMap:!1})},422:function(t,e,r){"use strict";r.r(e);var n={props:["isShowing","title"]},o=r(18),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isShowing?r("div",{staticClass:"fixed inset-0 overflow-hidden z-50",attrs:{"aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"}},[r("div",{staticClass:"absolute inset-0 overflow-hidden"},[r("div",{staticClass:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",attrs:{"aria-hidden":"true"}}),t._v(" "),r("div",{staticClass:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},[r("div",{staticClass:"relative w-screen max-w-xl"},[r("div",{staticClass:"absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4"},[r("button",{staticClass:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},[r("span",{staticClass:"sr-only"},[t._v("Close panel")]),t._v(" "),r("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},on:{click:function(e){return t.$emit("close")}}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),t._v(" "),r("div",{staticClass:"h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll"},[r("div",{staticClass:"px-4 sm:px-6"},[r("h2",{staticClass:"text-lg font-medium text-gray-900",attrs:{id:"slide-over-title"}},[t._v("\n                            "+t._s(t.title)+"\n                        ")])]),t._v(" "),r("div",{staticClass:"mt-6 relative flex-1 px-4 sm:px-6"},[t._t("body",(function(){return[t._v("default body")]})),t._v(" "),t._t("footer",(function(){return[t._v("\n                            default footer\n                            "),r("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n                                OK\n                            ")])]}))],2)])])])])]):t._e()}),[],!1,null,null,null);e.default=component.exports},424:function(t,e,r){"use strict";r(419)},425:function(t,e,r){var n=r(51)((function(i){return i[1]}));n.push([t.i,"#preview-image:hover #remove-button[data-v-6b62bc15]{\n  opacity:1\n}",""]),n.locals={},t.exports=n},431:function(t,e,r){"use strict";r.r(e);r(26),r(19),r(20),r(49),r(50);var n=r(14),o=r(4),l=(r(40),r(25),r(30),r(128),r(33),r(48)),c=r(423),d=r.n(c),v=r(418);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={layout:"dashboard",components:{StarRating:d.a},data:function(){return{isShowingSlideOver:!1,editorOption:{placeholder:"Vui lòng nhập gì đó",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}},files:"",images:[],name:"",category_id:"",price:"",salePrice:"",content:"",brand:"",brands:[],columns:[{label:"#",field:"id"},{label:"Tên sản phẩm",field:"name"},{label:"Danh mục",field:"category.name"},{label:"Thương Hiệu",field:"brand.name"},{label:"Giá",field:"price",formatFn:this.$options.filters.toVndCurrency},{label:"Khuyến Mãi",field:"salePrice",formatFn:this.$options.filters.percentage},{label:"Rating",field:"reviews"},{label:"Tình Trạng",field:"hidden"},{label:"Khởi Tạo",field:"created_at",formatFn:this.$options.filters.formatDate}]}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("product/getProducts"),t.$store.dispatch("category/getCategory","product"),t.getBrand();case 3:case"end":return e.stop()}}),e)})))()},computed:m(m({},Object(l.b)({products:function(t){return t.product.products},categories:function(t){return t.category.category}})),{},{categoryOptions:function(){var t=this.categories;return v.a.recursiveCategory(t,"&nbsp;&nbsp;")},rate:function(){return this.products.reviews.reduce((function(t,e){return t+e.rate}),0)},formattedData:function(){return this.products.map((function(t){}))}}),methods:{countingStar:function(t){return t.reduce((function(t,e){return t+e.rate}),0)/t.length/10},getBrand:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$services.Brand.all();case 2:r=e.sent,t.brands=r.data;case 4:case"end":return e.stop()}}),e)})))()},addNewProduct:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new FormData,t.files.forEach((function(t){r.append("src[]",t)})),console.log(r),r.append("slug",""),r.append("name",t.name),r.append("price",t.price),r.append("description",t.content),r.append("category_id",t.category_id),r.append("brand_id",t.brand),e.next=12,t.$services.Product.store(r);case 12:t.files="",t.name="",t.category_id="",t.content="",t.images=[],t.$store.dispatch("product/getProducts"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},onFileChange:function(t){console.log(t.target.files.FileList);var e=t.target.files||t.dataTransfer.files;console.log(e),e.length&&(this.files=e,this.createImage(e))},createImage:function(t){for(var e=this,r=0;r<t.length;r++){var n=new FileReader;n.onload=function(t){var r=t.target.result;e.images.push(r)},n.readAsDataURL(t[r])}},removePreviewImage:function(t){this.images.splice(t,1)},status:function(t){return t?"Ẩn":"Hiện"},openSlideOver:function(){this.isShowingSlideOver=!0},closeSlideOver:function(){this.isShowingSlideOver=!1},onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},onEditorChange:function(t){t.editor;var html=t.html;t.text;this.content=html}}},y=(r(424),r(18)),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("UIcomponentsSlideOver",{attrs:{isShowing:t.isShowingSlideOver,title:"Thêm sản phẩm"},on:{close:function(e){return t.closeSlideOver()}}},[r("div",{attrs:{slot:"body"},slot:"body"},[r("div",{staticClass:"mb-8"},[r("label",{staticClass:"block mb-4"},[t._v("Tên sản phẩm")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"appearance-none border border-solid border-gray-300 w-full py-2 px-2\n                text-gray-700 leading-tight focus:outline-none focus:shadow-outline",domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"mb-8"},[r("label",{staticClass:"block mb-4 bg-white"},[t._v("Mô tả sản phẩm")]),t._v(" "),r("div",{directives:[{name:"quill",rawName:"v-quill:myQuillEditor",value:t.editorOption,expression:"editorOption",arg:"myQuillEditor"}],staticClass:"quill-editor",staticStyle:{"min-height":"150px"},attrs:{content:t.content},on:{change:function(e){return t.onEditorChange(e)},blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}}})]),t._v(" "),r("div",{staticClass:"mb-8"},[r("label",{staticClass:"block mb-4"},[t._v("Danh mục")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.category_id,expression:"category_id"}],staticClass:"w-full border border-solid border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 h-full py-2 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm",attrs:{id:"Currency",name:"currency"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.category_id=e.target.multiple?r:r[0]}}},t._l(t.categoryOptions,(function(e){return r("option",{key:e.id,domProps:{value:e.id,innerHTML:t._s(e.name)}})})),0)]),t._v(" "),r("div",{staticClass:"mb-8"},[r("label",{staticClass:"block mb-4"},[t._v("Thương hiệu")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.brand,expression:"brand"}],staticClass:"w-full border border-solid border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 h-full py-2 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm",attrs:{id:"Currency",name:"currency"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.brand=e.target.multiple?r:r[0]}}},t._l(t.brands,(function(e){return r("option",{key:e.id,staticClass:"py-2",domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),t._v(" "),r("div",{staticClass:"mb-8 flex gap-x-4"},[r("div",{staticClass:"w-2/4"},[r("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"price"}},[t._v("Giá")]),t._v(" "),r("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[r("div",{staticClass:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("span",{staticClass:"text-gray-500 sm:text-sm"},[t._v("\n                                đ\n                            ")])]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"border border-solid border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm py-2",attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"w-2/4"},[r("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"price"}},[t._v("Giảm giá")]),t._v(" "),r("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[r("div",{staticClass:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("span",{staticClass:"text-gray-500 sm:text-sm"},[t._v("\n                                %\n                            ")])]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.salePrice,expression:"salePrice"}],staticClass:"border border-solid border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm py-2",attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.salePrice},on:{input:function(e){e.target.composing||(t.salePrice=e.target.value)}}})])])]),t._v(" "),r("div",{staticClass:"mb-2"},[r("span",[t._v("Hình ảnh")]),t._v(" "),r("div",{staticClass:"relative h-40 rounded-lg border-dashed border-2 border-gray-200 bg-white flex justify-center items-center hover:cursor-pointer"},[r("div",{staticClass:"absolute"},[r("div",{staticClass:"flex flex-col items-center "},[r("i",{staticClass:"fa fa-cloud-upload fa-3x text-gray-200"}),t._v(" "),r("span",{staticClass:"block text-blue-400 font-normal"},[t._v("Browse files")])])]),t._v(" "),r("input",{staticClass:"h-full w-full opacity-0",attrs:{type:"file",name:"",multiple:""},on:{change:t.onFileChange}})])]),t._v(" "),t.images?r("div",{staticClass:"grid grid-cols-4 gap-x-2"},t._l(t.images,(function(image,e){return r("div",{key:e,staticClass:"border border-solid border-gray-300 relative",staticStyle:{"max-height":"120px"},attrs:{id:"preview-image"}},[r("img",{staticClass:"h-full",attrs:{src:image}}),t._v(" "),r("div",{staticClass:"absolute top-0 left-0 w-full h-full bg-gray-100 flex items-center justify-center opacity-0",attrs:{id:"remove-button"}},[r("svg",{staticClass:"icon icon-tabler icon-tabler-circle-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#2c3e50",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:function(r){return t.removePreviewImage(e)}}},[r("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),r("circle",{attrs:{cx:"12",cy:"12",r:"9"}}),t._v(" "),r("path",{attrs:{d:"M10 10l4 4m0 -4l-4 4"}})])])])})),0):t._e()]),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"mt-10"},[r("button",{staticClass:"mr-4 inline-block text-center lg:text-none py-2 px-10 text-md rounded-md text-white bg-blue-600 hover:bg-blue-800 transition-all duration-500",on:{click:function(e){return e.preventDefault(),t.addNewProduct()}}},[t._v("\n                    Tạo mới\n                ")]),t._v(" "),r("button",{staticClass:"inline-block text-center lg:text-none py-2 px-10  text-md rounded-md text-white bg-blue-600 hover:bg-blue-800 transition-all duration-500",on:{click:function(e){return e.preventDefault(),t.closeSlideOver()}}},[t._v("\n                    Huỷ\n                ")])])])]),t._v(" "),r("div",{staticClass:"flex justify-end items-center gap-x-4"},[r("div",{on:{click:function(e){return t.openSlideOver()}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"37",height:"37",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z"}})])])]),t._v(" "),r("div",{staticClass:"inline-block w-full border border-solid border-gray-200 overflow-x-auto mt-4"},[r("vue-good-table",{attrs:{columns:t.columns,rows:t.products,"pagination-options":{enabled:!0,rowsPerPageLabel:"Sản phẩm trên trang",nextLabel:"Trang kế",prevLabel:"Trang trước",ofLabel:"trên"},"search-options":{enabled:!0,trigger:"key-up",skipDiacritics:!0,placeholder:"Tìm kiếm..."}},scopedSlots:t._u([{key:"table-row",fn:function(e){return["hidden"==e.column.field?r("span",{staticClass:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},[r("span",{staticClass:"absolute inset-0 opacity-50 rounded-full",class:[e.row.hidden?"bg-red-300":"bg-green-300"],attrs:{"aria-hidden":""}}),t._v(" "),r("span",{staticClass:"relative"},[t._v("\n                        "+t._s(t.status(e.row.hidden))+"\n                    ")])]):"reviews"==e.column.field?r("span",{staticClass:"flex"},[r("star-rating",{attrs:{rating:t.countingStar(e.row.reviews),"read-only":!0,"star-size":20,"show-rating":!1,increment:.01}}),t._v(" "),r("nuxt-link",{attrs:{to:"/"}},[t._v(t._s("("+e.row.reviews.length+")"))])],1):r("span",[t._v("\n                    "+t._s(e.formattedRow[e.column.field])+"\n                ")])]}}])})],1)],1)}),[],!1,null,"6b62bc15",null);e.default=component.exports;installComponents(component,{UIcomponentsSlideOver:r(422).default})}}]);